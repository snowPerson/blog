{{#section 'link'}}
<style type="text/css">
	.desc{ display: inline-block; max-width: 150px;white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}
</style>
{{/section}}

{{> nav}}

<div class="container">
	<div class="row">
		<h3 class="alert alert-info" role="alert">文章列表</h3>
	</div>
</div>

<div class="container">
	<div class="row">
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>标题</th>
					<th>描述</th>
					<th>分类</th>
					<th>类型</th>
					<th>名称</th>
					<th>时间</th>
					<th>地址</th>
					<th>修改</th>
					<th>删除</th>
				</tr>
			</thead>
			<tbody id="tbody">
				{{#each articles}}
				<tr>
					<td>{{title}}</td>
					<td><span class="desc" title="{{desc}}">{{desc}}</span></td>
					<td>{{category.name}}</td>
					<td>{{type}}</td>
					<td>
						{{#if name}}
						{{name}}
						{{else}}
						<span>--</span>
						{{/if}}
					</td>
					<td>{{meta.time}}</td>
					<td>
						{{#if path}}
						<a href="{{path}}" target="_blank" class="btn btn-info">打开</a>
						{{else}}
						<span>--</span>
						{{/if}}
					</td>
					<td>
						<a href="/admin/article/update/{{_id}}" class="btn btn-primary">修改</a>
					</td>
					<td>
						<button class="btn btn-danger del" data-id="{{_id}}">删除</button>
					</td>
				</tr>
				{{/each}}
			</tbody>
		</table>
	</div>
</div>

<div class="container">
	<div class="row">
		<div>第{{current}}页 / 共{{allPage}}页&nbsp;&nbsp;(共{{total}}条数据)</div>
		<ul class="pagination" id="pagination" data-all="{{allPage}}" data-cur="{{current}}"></ul>
	</div>
</div>

{{#section 'script'}}
<script type="text/javascript" src="/js/admin/articleList.js"></script>
{{/section}}